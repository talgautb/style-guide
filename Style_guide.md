# HTML/CSS/Stylus

## Руководство по оформлению HTML/CSS/Stylus (Style guide)

### Введение

Данное руководство описывает правила для оформления и форматирования HTML и CSS кода.
Основная цель — повысить качество и читаемость кода, облегчить совместную работу и поддержку инфраструктуры.

Это относится к рабочим версиям файлов использующих HTML, CSS, а также css препроцессора Stylus.

Разрешается использовать любые инструменты для минификации компиляции или обфускации кода, при условии наличия оригинальных файлов.

За основу документации использовано руководство и рекомендации google.

### Общие правила оформления

#### Протокол

Опускайте название протокола (http:, https:) в ссылках на картинки или другие медиа-ресурсы, файлы стилей или скрипты, конечно, если эти файлы доступны по обоим протоколам.

Отсутствие протокола делает ссылку относительной, что предотвращает смешивание ресурсов из разных протоколов и незначительно уменьшает размер файлов. 

Пример использования
	<script src="//www.google.com/js/gweb/analytics/autotrack.js"></script>

#### Отступы

Главное правила отступов использовать что-то одно (либо пробелы, либо табуляцию).
> Никогда не смешивайте табуляцию с пробелами!

Рекомендуется использование табуляция (2 пробела).

#### Регистр

Всегда используйте только нижний регистр! Для использования вверхнего регистра, например меню сайта, используйте свойсво text-transform: upppercase в css.
Исключением в верстке являются: текст/CDATA.

#### Пробелы в конце строки

Убирайте пробелы в конце строки.
Пробелы в конце строк не обязательны и усложняют использование diff. 

### Общие мета правила

#### Кодировка

Используйте UTF-8 (без BOM).
Указывайте кодировку в HTML шаблонах и документах с помощью <meta charset="utf-8">. Опускайте кодировку для сss-файлов: для них UTF-8 задана по умолчанию.
>Проверьте и настройте свой редактор правильно!

#### Комментарии

Комментируйте свой код, где это необходимо.
Рекомендуются комментарии при неочевидном использовании (например, div {display:inline;}), а также "костылях".
Язык - русский или английский. Желательно один на всем проекте.

#### Задачи

Отмечайте задачи для списка дел с помощью TODO.
Заключайте контакты (имя пользователя или список адресатов) в круглые скобки: TODO(контакт).
Описывайте задачу после двоеточия, например: TODO: Задача.
Например,
	<!-- TODO(Ivan Ivanov): Разобраться с центровкой -->

### Правила оформления HTML

#### Тип документа

Использовать HTML5.
При использовании другого типа оставить комментарий.

#### Валидность HTML

По возможности используйте валидный HTML.

#### Семантика

Используйте HTML так, как это было задумано.
> Соблюдайте правильную вложенность блоков.

#### Использование ALT

Всегда указывайте альтернативное содержимое для мультимедиа.

#### Ссылки-мнемоники

Не используйте ссылки-мнемоники.

Нет смысла использовать ссылки-мнемоники, такие как &mdash;, &rdquo;, или &#x263a;, когда все команды в файлах, редакторах используют одну кодировку (UTF-8)

Единственное исключение из этого правила — служебные символы HTML (например < и &) а так же вспомогательные и “невидимые” символы (например неразрывный пробел).

#### Необязательные теги

Не используйте необязательные теги.

#### Атрибут 'type'

Не указывайте атрибут type при подключении стилей и скриптов в документ. см. п. Тип документа
Рекомендуется:
	<script src="//www.google.com/js/gweb/analytics/autotrack.js"></script>

### Правила форматирования HTML

#### Форматирование

Выделяйте новую строку для каждого блочного, табличного или списочного элемента и ставьте отступы для каждого дочернего элемента. 


### Правила оформления CSS

#### Валидность CSS

По возможности используйте валидный CSS-код.
Кроме случаев, где необходим браузеро-зависимый код, или ошибок валидатора, используйте валидный CSS код.

#### Идентификаторы и классы

Приветствуется использования только классов.
Использование индентификаторов возможно только в особых случаях.

#### Именование классов

Используйте названия для классов максимально абстрактными со смысловой нагрузкой. Нерекомендуется использования простых слов, а также привязанным к внешним признакам.

Например:
	
	.red-color { color: red } /* цвет ошибки - плохо */
	.red-color { color: green } /* цвет ошибки - очень плохо */
	.error-color { color: red } /* цвет ошибки - хорошо */
	
За основу именования классов взят видоизменненый принцип, предложенный в [MCSS](http://operatino.github.io/MCSS/).
Используются понятия: Блок, Элемент, Модификатор.

Также необходимо помнить о специальных и зарезервированных классах, именование их происходит по-другому.

##### Блок

Интерфейс сайта состоит из блоков, которые могут находится в разных местах, на разных страницах, блоки могут быть внутри других блоков, могут влиять на своих родителей.
Особенности блоков:
- Блок — абсолютно независимая часть интерфейса (принцип, АНБ);
- У блока должно быть имя по классу. Например: .mainmenu;
- Блок может быть модифицирован при необходимости (см. Модификаторы ниже).

##### Элемент

Элемент — зависимая часть интерфейса. Сами по себе элементы ничего не значат и используются только в контексте блоков.

Имя элемента формируется из пары название-блока_элемент (одно нижнее подчеркивание). Пример:
	
	.block_elemnet

> Сложные названия блоков или элементов необходимо писать через дефис (.block-name_element-name).

##### Модификатор

Модификатор влияет и изменяет внешний вид блока/элемента.

Модификатор формируется через название блока или элемента и два нижних подчеркивания. Пример:
	
	.block__modificator


##### Cпециальные классы

Специальные классы существуют для обработки блоков или элементов javascript'ом. Используйте классы в формате .js_* (.js_click-btn, .js_hide-me)

##### Зарезервированные классы

Именование зарезервированных классов нежелательно.

В список входят следующие классы:

- классы, используемые в css фреймворках. Например, .span12;
- простые слова. Например, .block, .show, .error;

#### Eдиницы измерения

Не указывайте единицы измерения для нулевых значений.

Не ставьте “0” в целой части дробных чисел.

#### Кавычки в ссылках

Не используйте кавычки в ссылках

Не используйте кавычки ("", '') с url(). 


#### Шестнадцатеричные названия цветов

Используйте трехсимвольную шестнадцатеричную запись где это возможно. 

### Правила форматирования CSS

#### Отступы в блоках

Всегда ставьте отступы для содержимого блоков.

Stylus: Отделяйте блоки друг от друга? оставляйте пустые строки между всеми сущностями.

Пример:

	.block

		&_element

			padding 10px

	// another block-name
	
	.block-name

		&__modificator

			padding 25px 0

### Правила форматирования Stylus

#### Иерархия файлов

Используйте за основу следующую структуру:

Основные блоки и/или группа блоков находится в папке blocks, каждая группа блоков/блок расположен в отдельном файле.

В корне файлы с Настройками, Основными стилями (body, html, a b т.д.) и главный файл генерирующий исходный файл css.

Пример:

- blocks
-- _header.styl
-- _footer.styl
-- ...
-- style.styl
- _common.styl
- _settings.styl
- _style.styl
- main.styl

#### Динамические классы

Используйте динамические классы. Нежелательно написание всей цепочки блок_элемент_модификатор.
Последовательность написания следующая:

Блок, Все дочерние элементы, Все дочерние модификаторы.

Пример:

	.block

		&_element
			padding 10px
			background #fff

		&_element2
			margin-top 10px
			font-size 10px

		&__modificator
			color green


#### Формат

Не используйте в stylus:

1. двоеточие
2. фигурные скобки
3. точку с запятой